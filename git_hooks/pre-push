set -e

echo 'ğŸ§ª running cli cargo test...'
cargo test

echo 'ğŸ§¹running cli runner cargo fmt...'
cargo fmt 

echo 'ğŸ” running cli cargo clippy...'
cargo clippy -- -D warnings

echo 'ğŸ§ª running backend cargo test...'
cargo test --manifest-path src/backend/Cargo.toml

echo 'ğŸ§¹ running backend cargo fmt...'
cargo fmt --manifest-path src/backend/Cargo.toml

echo 'ğŸ” running backend cargo clippy...'
cargo clippy --manifest-path src/backend/Cargo.toml -- -D warnings


echo 'ğŸ§¹ running frontend project lint...'
npm run lint:all --prefix src/frontend/

echo 'ğŸ§ª running frontend vitest...'
npm run test --prefix src/frontend/

echo 'ğŸ§ª running astro check...'
npm run build --prefix src/frontend/

echo '------ Done ------'